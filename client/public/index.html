<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>

    <!-- Bootstrap core CSS -->
<!--     <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet"> -->

    <!-- Latest compiled and minified CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #react {
        height: 100%;
      }

      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 15px;
      }

      #submitAddress {
        position: absolute;
        top: 5%;
        left: 18%;
        background-color: #fff;
        padding: 10px;
        width: 705px;
        border: 1px solid #d8d8d8;
      }

      #inputYelpAddress {
        width: 50%;
      }

      .btn-group {
        padding: 5px;
      }
    </style>
    <!-- <script type="text/javascript" src="/js/googleMaps.js"></script> -->
  </head>

  <body>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDLG4cmhAVyeZ8ni6geScmGt3azChgMwR0"></script>
    <!-- <div id="map"></div> -->
    <div id="react"></div>

<!--     <div id="submitAddress">
      <form class="form-inline">
        <div class="form-group mx-sm-3 mb-2">
          <input class="form-control" id="inputAddress0" placeholder="Specify an address.." value = "austin capital">
          <input class="form-control" id="inputAddress1" placeholder="Specify an address.." value = "ut tower">
          <input class="form-control" id="inputAddress2" placeholder="Specify an address.." >
        </div>
        <button type="button" class="btn btn-primary mb-2" id="address-btn">Submit Address</button>
        <div class="form-group mx-sm-3 mb-2">
          <input class="form-control" id="inputYelpAddress" placeholder="Specify a Yelp address.." value = "bbq">
        </div>
        <button type="button" class="btn btn-primary mb-2" id="yelp-btn">Submit Yelp Address</button>
      </form>
    </div> -->
    <!-- <div id="form"></div> -->

    <!-- <div id="scroll"></div> -->
    <!-- <div id="scroll" style="height: 200px";></div> -->

    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <script> 
      // var map;
      // var geocoder;
      // var directionsService;
      // var directionsDisplay;

      var markers = [];
      var addresses = [];

      // var socket = io();
      // var yelpButton = document.getElementById('yelp-btn');
      // var addressButton = document.getElementById('address-btn');

      // yelpButton.addEventListener('click', function() {
      //   socket.emit('yelp', document.getElementById('inputYelpAddress').value);
      // });

      // addressButton.addEventListener('click', function() {
      //   populateAddresses();
      //   calculateAndDisplayRoute(directionsService, directionsDisplay);
      // });

      // socket.on('yelp', function(data) {
      //   codeAddress(data);
      // });

      // var map;
      // var geocoder;
      // var directionsService;
      // var directionsDisplay;

      // var markers = [];
      // var addresses = [];

      // function initMap() {
      //   // map = new google.maps.Map(document.getElementById('map'), {
      //   //   center: {lat: -34.397, lng: 150.644},
      //   //   zoom: 10
      //   // });

      //   geocoder = new google.maps.Geocoder();
      //   directionsService = new google.maps.DirectionsService();
      //   directionsDisplay = new google.maps.DirectionsRenderer();
      //   directionsDisplay.setMap(map);
      // }

      // populate array with user input locations
      // function populateAddresses() {
      //   addresses = []; // clear waypoints

      //   for (var i = 0; i < 3; i++) {
      //     var value = document.getElementById('inputAddress' + i).value;
      //     if (value != null && value != "") {
      //       addresses.push(value);
      //       console.log(addresses[i]);
      //       socket.emit('yelp', value);
      //     }
      //   }
      // }

      // // draw the different directions  
      // function calculateAndDisplayRoute() {
      //   var startAddress = addresses[0];
      //   var endAddress = addresses[addresses.length - 1];
      //   var waypts = [];

      //   // use waypoints for intermediate destinations
      //   for (var i = 1; i < addresses.length - 1; i++) {
      //     waypts.push({
      //       location: addresses[i],
      //       stopover: true
      //     });
      //   }

      //   var directionsParams = {
      //     origin: startAddress,
      //     destination: endAddress,
      //     travelMode: 'DRIVING'
      //   }

      //   if (waypts.length > 0) {
      //     directionsParams['waypoints'] = waypts;
      //     directionsParams['optimizeWaypoints'] = true;
      //   }

      //   directionsService.route(directionsParams, function(response, status) {
      //     if (status === 'OK') {
      //       directionsDisplay.setDirections(response);
      //     } else {
      //       alert('Directions request failed due to the following reason: ' + status);
      //     }
      //   });
      // }

      // sets the map on all markers in the array.
      function setMapOnAll(map) {
        for (var i = 0; i < markers.length; i++) {
          markers[i].setMap(map);
        }
      }

      function removeMarker(position) {
        for (var i = 0; i < markers.length; i++) {
          if (markers[i]['position'] == position) {
            markers[i].setMap(null);
            markers.splice(i, 1);
          }
        }

        console.log(markers);
        setMapOnAll(map);
      }

      // // uses geoencoding api to generate markers
      // function codeAddress(input) {
      //   var name;
      //   var address;
      //   var image;
      //   var link;

      //   if (input != null) {
      //     name = input['name'];
      //     address = input['location'];
      //     image = input['image'];
      //     link = input['link'];
      //   }

      //   geocoder.geocode({'address': address}, function(results, status) {
      //     if (status == 'OK') {
      //       map.setCenter(results[0].geometry.location);

      //       if (input != null) {
      //         map.setZoom(16);
      //       }

      //       var marker = new google.maps.Marker({
      //         map: map,
      //         position: results[0].geometry.location,
      //         title: results[0].formatted_address
      //       });

      //       if (name == null) {
      //         name = results[0].formatted_address;
      //       }

      //       var infowindow = new google.maps.InfoWindow({
      //         content: '<div class="card" style="width: 18rem;"><img class="card-img-top" style="width: 18rem;" src=' + image + '><div class="card-body"><h5 class="card-title">' + name + '</h5><p class="card-text">Some quick example text to build on the card title and make up the bulk of the card content.</p><a href=' + link + ' class="btn btn-primary">Yelp it</a>&nbsp;<button class="btn btn-danger" onclick="removeMarker(\'' + marker['position'] + '\')">Remove</button></div></div>',
              
      //         maxWidth: 230
      //       });

      //       marker.addListener('click', function() {
      //         infowindow.open(map, marker);
      //       });
      //     } else {
      //       alert('Geocode was not successful for the following reason: ' + status);
      //     }

      //     markers.push(marker);
      //   });
      // }
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- <script src="js/bootstrap.min.js"></script> -->
  </body>
</html>